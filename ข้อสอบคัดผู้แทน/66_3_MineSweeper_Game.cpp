#include<bits/stdc++.h>
using namespace std;

int main(){
    int n,sum=0;
    cin>>n;
    int x,y;
    cin>>x>>y;
    char c[n+2][n+2];
    int a[n+2][n+2] = {};
    for(int i=1;i<=n;i++){
        for(int j=1;j<=n;j++){
            cin>>c[i][j];
        }
    }
    for(int i=0;i<=n+1;i++){
        for(int j=0;j<=n+1;j++){
            a[0][j] = -100 ;
            a[n+1][j] = -100;
            a[i][0] = -100;
            a[i][n+1] = -100;
        }
    }
    for(int i=1;i<=n;i++){
        for(int j=1;j<=n;j++){
            if(c[i][j]=='*') {
                a[i][j]++;
                a[i+1][j]++;
                a[i-1][j]++;
                a[i][j+1]++;
                a[i][j-1]++;
                a[i+1][j+1]++;
                a[i-1][j+1]++;
                a[i+1][j-1]++;
                a[i-1][j-1]++;
            }
        }
    }
    for(int i=1;i<=n;i++){
        for(int j=1;j<=n;j++){
            cout<<a[i][j]<<" ";
        }
        cout<<"\n";
    }
    a[y][x]=-1;
    bool ck = true ;
    while (ck){
        ck = false;
    for(int i=1;i<=n;i++){
        for(int j=1;j<=n;j++){
            if(a[i][j]==-1) {
                if(a[i-1][j] == 0 ) {a[i-1][j] = -1;ck = true ;}
                if(a[i+1][j] == 0 ) {a[i+1][j] = -1;ck = true ;}
                if(a[i][j-1] == 0 ) {a[i][j-1] = -1;ck = true ;}
                if(a[i][j+1] == 0 ) {a[i][j+1] = -1;ck = true ;}
                if(a[i-1][j-1] == 0 ) {a[i-1][j-1] = -1;ck = true ;}
                if(a[i+1][j+1] == 0 ) {a[i+1][j+1] = -1;ck = true ;}
                if(a[i-1][j+1] == 0 ) {a[i-1][j+1] = -1;ck = true ;}
                if(a[i+1][j-1] == 0 ) {a[i+1][j-1] = -1;ck = true ;}
            }
        }
    }
    }
    for(int i=1;i<=n;i++){
        for(int j=1;j<=n;j++){
            if(a[i][j]==-1) {
    if(a[i-1][j] > 0 ) {sum+=a[i-1][j];a[i-1][j]=-2;}
    if(a[i+1][j] > 0 ) {sum+=a[i+1][j];a[i+1][j]=-2;}
    if(a[i][j-1] > 0 ) {sum+=a[i][j-1];a[i][j-1]=-2;}
    if(a[i][j+1] > 0 ) {sum+=a[i][j+1];a[i][j+1]=-2;}
    if(a[i-1][j-1] > 0 ) {sum+=a[i-1][j-1];a[i-1][j-1]=-2;}
    if(a[i+1][j+1] > 0 ) {sum+=a[i+1][j+1];a[i+1][j+1]=-2;}
    if(a[i-1][j+1] > 0 ) {sum+=a[i-1][j+1];a[i-1][j+1]=-2;}
    if(a[i+1][j-1] > 0 ) {sum+=a[i+1][j-1];a[i+1][j-1]=-2;}
            }
        }
    }
    
    cout<<"fdshareh"<<"\n";
    for(int i=1;i<=n;i++){
        for(int j=1;j<=n;j++){
            cout<<a[i][j]<<" ";
        }
        cout<<"\n";
    }
    cout<<"srgrd"<<"\n";
    cout<<sum;
    return 0;
}
/*
10
3 7
. . . . . . . . . *
* . . . . * . . . .
. . * . . * . . . .
. . . . * . . . * *
. * * * . . . . . .
. . . . . . . . . *
. . . . . . . * . .
. . . . . . * * . .
. . * . . . . . . .
* . . . * . * * . .
*/
/*
20
15 1
. * . . . . . . . . . . . . . . . . . .
. . * . . . . . . . . . . . . . . . . .
. . . . . . * . . . . . * . . . . . . . 
. . . * . . . . . . . . . . . * . . . .
. . . . . . * . * . . . . * . . . . . .
. * . . . . . . . . . . . . . . . . . .
. . . . * . . . . * . * . . . . . . . .
. . . * . . . . . . * . . . . . . . . .
. . . . . * . * . . . . . . . . . . . *
. . . . . . * . . . . . . * * . . . . .
. . * . . * . . . . . * . * . . . . * .
. . . . . . . . . . . . . . . . . . . *
. . . . . . . * * . . . . * . . . . . .
. . . . . * . . . . * . . . . . * . . . 
. . . . . . . . . * . . * . . . . . . .
. . . . . . . . . . . . . . * . . . . .
* . . . . . . . . . * . . . . . . . . *
* . . * . . . . . . . . . * . * . . . .
. * . . . . . * . . . . . . * . . * . .
. . * . . . . . . * . . * . . . . . . .
*/